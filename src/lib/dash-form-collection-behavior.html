<script>
  'use strict';

  function DashFormCollectionBehavior(superClass) {
    return class extends superClass {
      static get properties() {
        return {
        }
      }

      _getValuesFromSelectedColletion (elId, items) {
        let list = [];
        try {
          let source = JSON.parse(this.shadowRoot.querySelector('#' + elId).getAttribute('source'));
          if (source.length) {
            for (let i in items) {
              for (let j in source) {
                if (items[i] == source[j].text) {
                  list.push(source[j].value);
                }
              }
            }
          }
      } catch (e) {
        console.warn('Json parse failed');
      }
        return list;
      }

      _preSelectItemFromValues (elId, items) {
        let list = [];
        try {
          let source = JSON.parse(this.shadowRoot.querySelector('#' + elId).getAttribute('source'));
          if (source.length) {
            for (let i in items) {
              for (let j in source) {
                if (items[i] == source[j].value) {
                  list.push(source[j].text);
                }
              }
            }
          }
        } catch (e) {
          console.warn('Json parse failed');
        }
        return list;
      }
    }
  }
</script>